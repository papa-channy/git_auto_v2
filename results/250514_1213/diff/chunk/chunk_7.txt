@@ -59,22 +53,23 @@ def generate_commit_and_record(
             log(f"âŒ ì»¤ë°‹ ì²­í¬ ë©”ì‹œì§€ ìƒì„± ì‹¤íŒ¨: {e}")
             commit_msgs.append("[ERROR] ë©”ì‹œì§€ ì‹¤íŒ¨")
 
-    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-    # ğŸ”¹ ìµœì¢… ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„±
-    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-    d = f"""
-ë‹¹ì‹ ì€ íŒ€ í”„ë¡œì íŠ¸ì˜ PR ë©”ì‹œì§€ë¥¼ ì‘ì„±í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
+    # ìµœì¢… ì»¤ë°‹ ë©”ì‹œì§€
+    d = f"""ë‹¹ì‹ ì€ íŒ€ í”„ë¡œì íŠ¸ì˜ PR ë©”ì‹œì§€ë¥¼ ì‘ì„±í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
 ì•„ë˜ëŠ” ë ˆí¬ì˜ ì „ì²´ ë§¥ë½ê³¼, chunkë³„ë¡œ ìƒì„±ëœ ì»¤ë°‹ ë©”ì‹œì§€ë“¤ì…ë‹ˆë‹¤.
 
-ğŸ§± Repo context:
+[Repo context]
 {repo_context}
 
-ğŸ§© ê°œë³„ commit ë©”ì‹œì§€ë“¤:
+[ê°œë³„ commit ë©”ì‹œì§€ë“¤]
 {chr(10).join(commit_msgs)}
 
 {final_commit_txt}
 """
-    prompt_vars["d"] = d
+    prompt_vars["d"] = {
+        "text": d,
+        "model": llm_cfg_final["model"][0],
+        "purpose": "commit_final"
+    }
 
     try:
         final_commit = call_llm(d, llm_cfg_final)
@@ -82,24 +77,21 @@ def generate_commit_and_record(
         final_commit = "[ERROR] ìµœì¢… ì»¤ë°‹ ë©”ì‹œì§€ ì‹¤íŒ¨"
         log(f"âŒ ìµœì¢… ì»¤ë°‹ ë©”ì‹œì§€ ì‹¤íŒ¨: {e}")
 
-    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-    # ğŸ”¹ ê¸°ë¡ìš© ë©”ì‹œì§€ ìƒì„± (doc_writing)
-    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
+    # ê¸°ë¡ìš© ë©”ì‹œì§€
     combined_diff = "\n\n".join(diff_chunks)
-
-    e = f"""
-ë‹¤ìŒì€ Git ë ˆí¬ì˜ ì „ì²´ ë§¥ë½ ìš”ì•½ê³¼ ì „ì²´ ë³€ê²½ëœ diff ë‚´ìš©ì…ë‹ˆë‹¤.
-ì´ í”„ë¡œì íŠ¸ì˜ ì˜ë„, ìˆ˜ì •ì˜ ë§¥ë½, ê¸°ìˆ ì  ê³ ë¯¼ì„ ë‹´ì•„ ê¸°ìˆ  ë¬¸ì„œìš©ìœ¼ë¡œ ê¸°ë¡í•´ì£¼ì„¸ìš”.
-
-ğŸ§± Repo context:
+    e = f"""[Repo context]
 {repo_context}
 
-ğŸ§© ì „ì²´ diff:
+[ì „ì²´ diff]
 {combined_diff}
 
 {record_prompt_txt}
 """
-    prompt_vars["e"] = e
+    prompt_vars["e"] = {
+        "text": e,
+        "model": llm_cfg_record["model"][0],
+        "purpose": "record"
+    }
 
     try:
         record_msg = call_llm(e, llm_cfg_record)
diff --git a/scripts/run_all.py b/scripts/run_all.py
index 2e93557..685584f 100644
--- a/scripts/run_all.py
+++ b/scripts/run_all.py
@@ -1,8 +1,9 @@
-import time
+import time, json, sys, shutil
 from datetime import datetime
-import json
 from pathlib import Path
-import shutil
+from pathlib import Path
+
+sys.path.append(str(Path(__file__).resolve().parent.parent))
 
 from scripts.context import build_context
 from scripts.diff import get_git_diff, split_diff_by_function